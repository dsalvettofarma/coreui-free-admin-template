<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestión de Fraudes - Dashboard</title>
  <!-- Tabler Icons CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/tabler-icons.min.css">
  <!-- CDN CoreUI & Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/simplebar@6.2.5/dist/simplebar.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@coreui/coreui@5.3.0/dist/css/coreui.min.css" rel="stylesheet">
  <!-- Local custom styles -->
  <link href="../assets/css/style.css" rel="stylesheet">
  <link href="../assets/css/examples.css" rel="stylesheet">
  <!-- Estilos específicos de fraudes -->
  <link rel="stylesheet" href="../assets/css/fraudes.css">
  <!-- Scripts CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@coreui/coreui@5.3.0/dist/js/coreui.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/simplebar@6.2.5/dist/simplebar.min.js"></script>
  <!-- Local custom scripts -->
  <script src="../js/config.js"></script>
  <script src="../js/color-modes.js"></script>
</head>
<body>
  <!-- Importar el layout como módulo JS -->
  <script type="module">
    import { renderLayout } from '../js/layout.js';
    // Contenido específico de fraudes
    const fraudesContent = `
      <div class='fraude-flex-root'>
        <section class='fraude-col principal'>
          <section class='fraude-container'>
            <header class='fraude-header'>
              <h2>Registro de fraudes</h2>
              <a href='https://docs.google.com/spreadsheets/d/12mgWvEzfvBi6eYqDmY_Jmpdb00lp4r1FWvERuVhM7gY/edit?usp=sharing' target='_blank' class='btn-secundario'>Ver tabla</a>
            </header>
            <form id='fraude-form' autocomplete='off'>
              <div class='form-grid grid-2col'>
                <div class='campo' id='campo-no-logueado' style='grid-column: 1 / span 2; display: flex; align-items: center; gap: 1rem;'>
                  <input type='checkbox' id='no_logueado' name='no_logueado' />
                  <label for='no_logueado'>No logueado?</label>
                </div>
                <div class='campo' id='campo-documento'>
                  <label for='documento'>Documento</label>
                  <input type='text' id='documento' name='documento' required />
                </div>
                <div class='campo'>
                  <label for='correo'>Correo</label>
                  <input type='email' id='correo' name='correo' required />
                </div>
                <div class='campo'>
                  <label for='nombre'>Nombre</label>
                  <input type='text' id='nombre' name='nombre' required />
                </div>
                <div class='campo'>
                  <label for='comentarios'>Comentarios (opcional)</label>
                  <textarea id='comentarios' name='comentarios'></textarea>
                </div>
                <div class='campo campo-full' style='grid-column: 1 / span 2;'>
                  <button type='submit' class='btn-primario'>
                    <span class='btn-text'>Enviar</span>
                    <span class='btn-spinner' style='display:none;'><span class='loader'></span></span>
                  </button>
                </div>
              </div>
              <div class='mensaje' id='mensaje'>✅ ¡Reporte enviado con éxito!</div>
            </form>
            <section class='fraude-buscador'>
              <h3>Buscar en gestión de fraude</h3>
              <input type='text' id='buscadorFraude' placeholder='Buscar por documento, nombre, etc...'>
            </section>
            <section class='fraude-mini-cards'>
              <div class='mini-cards-header' style='display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.7rem;'>
                <h3 style='margin:0;'>Personas agregadas</h3>
                <select id='ordenarMiniCards' style='max-width:220px;'>
                  <option value='fecha-desc'>Fecha (más reciente primero)</option>
                  <option value='fecha-asc'>Fecha (más antiguo primero)</option>
                  <option value='az'>Nombre A-Z</option>
                  <option value='za'>Nombre Z-A</option>
                </select>
              </div>
              <div id='miniCardsContainer'></div>
            </section>
          </section>
        </section>
        <aside class='fraude-col lateral'>
          <section id='bloqueados-estadisticas-container' class='section-container'>
            <h3 class='section-title'>Resumen de bloqueados</h3>
            <div id='bloqueados-resumen-cards' class='bloqueados-resumen-cards'></div>
            <div id='bloqueados-por-mes' class='bloqueados-por-mes'></div>
          </section>
        </aside>
      </div>
    `;
    renderLayout({
      pageTitle: 'Gestión de Fraudes',
      breadcrumbs: [
        { name: 'Home', url: 'index.html' },
        { name: 'Gestión de Fraudes', url: '#' }
      ],
      content: fraudesContent,
      user: { role: 'admin' } // Ajusta el rol según corresponda
    });
  </script>

  <!-- Scripts necesarios -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@coreui/coreui@5.3.0/dist/js/coreui.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/simplebar@6.2.5/dist/simplebar.min.js"></script>
  
  <!-- Scripts específicos de fraudes -->
  <script type="module" src="../modulos/form-fraudes/form-fraudes.js"></script>
  
</body>
</html>
