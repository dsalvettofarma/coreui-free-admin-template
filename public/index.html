<!DOCTYPE html>
<html lang="en">
<head>
  <base href="./">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>CoreUI Free Bootstrap Admin Template</title>
  <!-- Tabler Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/tabler-icons.min.css">
  <!-- CDN CoreUI & Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/simplebar@6.2.5/dist/simplebar.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@coreui/coreui@5.3.0/dist/css/coreui.min.css" rel="stylesheet">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- CoreUI JS -->
  <script src="https://cdn.jsdelivr.net/npm/@coreui/coreui@5.3.0/dist/js/coreui.bundle.min.js"></script>
  
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@coreui/chartjs@3.0.0/dist/coreui-chartjs.min.js"></script>

  <div id="app"></div>
  
  <script src="js/layout.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
    const dashboardContent = `
      <div class="row g-4 mb-4">
        <!-- Dashboard cards -->
        <div class="col-sm-6 col-xl-3">
          <div class="card text-white bg-primary">
            <div class="card-body pb-0 d-flex justify-content-between align-items-start">
              <div>
                <div class="fs-4 fw-semibold">26K <span class="fs-6 fw-normal">(-12.4% ↓)</span></div>
                <div>Users</div>
              </div>
              <div class="dropdown">
                <button class="btn btn-transparent text-white p-0" type="button" data-coreui-toggle="dropdown" aria-haspopup="true" aria-expanded="false">⋮</button>
                <div class="dropdown-menu dropdown-menu-end">
                  <a class="dropdown-item" href="#">Action</a>
                  <a class="dropdown-item" href="#">Another action</a>
                  <a class="dropdown-item" href="#">Something else here</a>
                </div>
              </div>
            </div>
            <div class="c-chart-wrapper mt-3 mx-3" style="height:70px;">
              <canvas class="chart" id="card-chart1" height="70"></canvas>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-xl-3">
          <div class="card text-white bg-info">
            <div class="card-body pb-0 d-flex justify-content-between align-items-start">
              <div>
                <div class="fs-4 fw-semibold">$6.200 <span class="fs-6 fw-normal">(40.9% ↑)</span></div>
                <div>Income</div>
              </div>
              <div class="dropdown">
                <button class="btn btn-transparent text-white p-0" type="button" data-coreui-toggle="dropdown" aria-haspopup="true" aria-expanded="false">⋮</button>
                <div class="dropdown-menu dropdown-menu-end">
                  <a class="dropdown-item" href="#">Action</a>
                  <a class="dropdown-item" href="#">Another action</a>
                  <a class="dropdown-item" href="#">Something else here</a>
                </div>
              </div>
            </div>
            <div class="c-chart-wrapper mt-3 mx-3" style="height:70px;">
              <canvas class="chart" id="card-chart2" height="70"></canvas>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-xl-3">
          <div class="card text-white bg-warning">
            <div class="card-body pb-0 d-flex justify-content-between align-items-start">
              <div>
                <div class="fs-4 fw-semibold">2.49% <span class="fs-6 fw-normal">(84.7% ↑)</span></div>
                <div>Conversion Rate</div>
              </div>
              <div class="dropdown">
                <button class="btn btn-transparent text-white p-0" type="button" data-coreui-toggle="dropdown" aria-haspopup="true" aria-expanded="false">⋮</button>
                <div class="dropdown-menu dropdown-menu-end">
                  <a class="dropdown-item" href="#">Action</a>
                  <a class="dropdown-item" href="#">Another action</a>
                  <a class="dropdown-item" href="#">Something else here</a>
                </div>
              </div>
            </div>
            <div class="c-chart-wrapper mt-3" style="height:70px;">
              <canvas class="chart" id="card-chart3" height="70"></canvas>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-xl-3">
          <div class="card text-white bg-danger">
            <div class="card-body pb-0 d-flex justify-content-between align-items-start">
              <div>
                <div class="fs-4 fw-semibold">44K <span class="fs-6 fw-normal">(-23.6% ↓)</span></div>
                <div>Sessions</div>
              </div>
              <div class="dropdown">
                <button class="btn btn-transparent text-white p-0" type="button" data-coreui-toggle="dropdown" aria-haspopup="true" aria-expanded="false">⋮</button>
                <div class="dropdown-menu dropdown-menu-end">
                  <a class="dropdown-item" href="#">Action</a>
                  <a class="dropdown-item" href="#">Another action</a>
                  <a class="dropdown-item" href="#">Something else here</a>
                </div>
              </div>
            </div>
            <div class="c-chart-wrapper mt-3 mx-3" style="height:70px;">
              <canvas class="chart" id="card-chart4" height="70"></canvas>
            </div>
          </div>
        </div>
      </div>
      <div class="card mb-4">
        <div class="card-body">
          <div class="d-flex justify-content-between">
            <div>
              <h4 class="card-title mb-0">Traffic</h4>
              <div class="small text-body-secondary">January - July 2023</div>
            </div>
            <div class="btn-toolbar d-none d-md-block" role="toolbar" aria-label="Toolbar with buttons">
              <div class="btn-group btn-group-toggle mx-3" data-coreui-toggle="buttons">
                <input class="btn-check" id="option1" type="radio" name="options" autocomplete="off">
                <label class="btn btn-outline-secondary"> Day</label>
                <input class="btn-check" id="option2" type="radio" name="options" autocomplete="off" checked="">
                <label class="btn btn-outline-secondary active"> Month</label>
                <input class="btn-check" id="option3" type="radio" name="options" autocomplete="off">
                <label class="btn btn-outline-secondary"> Year</label>
              </div>
              <button class="btn btn-primary" type="button">
                ⬇
              </button>
            </div>
          </div>
          <div class="c-chart-wrapper" style="height:300px;margin-top:40px;">
            <canvas class="chart" id="main-chart" height="300"></canvas>
          </div>
        </div>
        <div class="card-footer">
          <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-4 row-cols-xl-5 g-4 mb-2 text-center">
            <div class="col">
              <div class="text-body-secondary">Visits</div>
              <div class="fw-semibold text-truncate">29.703 Users (40%)</div>
              <div class="progress progress-thin mt-2">
                <div class="progress-bar bg-success" role="progressbar" style="width: 40%" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
            <div class="col">
              <div class="text-body-secondary">Unique</div>
              <div class="fw-semibold text-truncate">24.093 Users (20%)</div>
              <div class="progress progress-thin mt-2">
                <div class="progress-bar bg-info" role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
            <div class="col">
              <div class="text-body-secondary">Pageviews</div>
              <div class="fw-semibold text-truncate">78.706 Views (60%)</div>
              <div class="progress progress-thin mt-2">
                <div class="progress-bar bg-warning" role="progressbar" style="width: 60%" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
            <div class="col">
              <div class="text-body-secondary">New Users</div>
              <div class="fw-semibold text-truncate">22.123 Users (80%)</div>
              <div class="progress progress-thin mt-2">
                <div class="progress-bar bg-danger" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
            <div class="col d-none d-xl-block">
              <div class="text-body-secondary">Bounce Rate</div>
              <div class="fw-semibold text-truncate">40.15%</div>
              <div class="progress progress-thin mt-2">
                <div class="progress-bar" role="progressbar" style="width: 40%" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Cards sociales -->
      <div class="row g-4 mb-4">
        <div class="col-sm-6 col-lg-4">
          <div class="card" style="--cui-card-cap-bg: #3b5998">
            <div class="card-header position-relative d-flex justify-content-center align-items-center">
              <div class="icon icon-3xl text-white my-4" style="font-size:4.8rem;">📘</div>
              <div class="chart-wrapper position-absolute top-0 start-0 w-100 h-100">
                <canvas id="social-box-chart-1" height="90"></canvas>
              </div>
            </div>
            <div class="card-body row text-center">
              <div class="col">
                <div class="fs-5 fw-semibold">89k</div>
                <div class="text-uppercase text-body-secondary small">friends</div>
              </div>
              <div class="vr"></div>
              <div class="col">
                <div class="fs-5 fw-semibold">459</div>
                <div class="text-uppercase text-body-secondary small">feeds</div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-lg-4">
          <div class="card" style="--cui-card-cap-bg: #00aced">
            <div class="card-header position-relative d-flex justify-content-center align-items-center">
              <div class="icon icon-3xl text-white my-4" style="font-size:4.8rem;">🐦</div>
              <div class="chart-wrapper position-absolute top-0 start-0 w-100 h-100">
                <canvas id="social-box-chart-2" height="90"></canvas>
              </div>
            </div>
            <div class="card-body row text-center">
              <div class="col">
                <div class="fs-5 fw-semibold">973k</div>
                <div class="text-uppercase text-body-secondary small">followers</div>
              </div>
              <div class="vr"></div>
              <div class="col">
                <div class="fs-5 fw-semibold">1.792</div>
                <div class="text-uppercase text-body-secondary small">tweets</div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6 col-lg-4">
          <div class="card" style="--cui-card-cap-bg: #4875b4">
            <div class="card-header position-relative d-flex justify-content-center align-items-center">
              <div class="icon icon-3xl text-white my-4" style="font-size:4.8rem;">💼</div>
              <div class="chart-wrapper position-absolute top-0 start-0 w-100 h-100">
                <canvas id="social-box-chart-3" height="90"></canvas>
              </div>
            </div>
            <div class="card-body row text-center">
              <div class="col">
                <div class="fs-5 fw-semibold">500+</div>
                <div class="text-uppercase text-body-secondary small">contacts</div>
              </div>
              <div class="vr"></div>
              <div class="col">
                <div class="fs-5 fw-semibold">292</div>
                <div class="text-uppercase text-body-secondary small">feeds</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    `;
    renderLayout({
      user: { role: 'admin' },
      pageTitle: 'Dashboard',
      breadcrumbs: [
        { name: 'Home', url: '#' },
        { name: 'Dashboard', url: '#' }
      ],
      content: dashboardContent
      });

      // Initialize chart functionality
      initCharts();
      
      // Initialize theme switching
      initializeThemeSwitch();
    });
    
    function initCharts() {
      // Main chart
      const mainChart = document.getElementById('main-chart');
      if (mainChart) {
        new Chart(mainChart, {
          type: 'line',
          data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
            datasets: [{
              label: 'Traffic',
              data: [65, 59, 80, 81, 56, 55, 40],
              borderColor: 'rgb(75, 192, 192)',
              tension: 0.1
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false
          }
        });
      }
      
      // Sales chart
      const salesChart = document.getElementById('sales-chart');
      if (salesChart) {
        new Chart(salesChart, {
          type: 'bar',
          data: {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
            datasets: [{
              label: 'Sales',
              data: [12, 19, 3, 5, 2, 3, 18],
              backgroundColor: 'rgba(54, 162, 235, 0.5)'
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false
          }
        });
      }
      
      // Card charts
      const cardCharts = ['card-chart1', 'card-chart2', 'card-chart3', 'card-chart4'];
      const cardData = [
        [65, 59, 80, 81, 56, 55, 40],
        [28, 48, 40, 19, 86, 27, 90],
        [18, 48, 77, 9, 100, 27, 40],
        [78, 81, 80, 45, 34, 12, 40]
      ];
      
      cardCharts.forEach((chartId, index) => {
        const chart = document.getElementById(chartId);
        if (chart) {
          new Chart(chart, {
            type: 'line',
            data: {
              labels: ['', '', '', '', '', '', ''],
              datasets: [{
                data: cardData[index],
                borderColor: 'rgba(255,255,255,0.55)',
                backgroundColor: 'transparent',
                borderWidth: 2,
                fill: false
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                legend: {
                  display: false
                }
              },
              scales: {
                x: {
                  display: false
                },
                y: {
                  display: false
                }
              },
              elements: {
                point: {
                  radius: 0
                }
              }
            }
          });
        }
      });
    }
    
    function initializeThemeSwitch() {
      // Apply saved theme
      const savedTheme = localStorage.getItem('coreui-theme') || 'light';
      document.documentElement.setAttribute('data-coreui-theme', savedTheme);
      
      // Theme toggle functionality
      const themeToggle = document.querySelector('[data-coreui-toggle="color-mode"]');
      if (themeToggle) {
        themeToggle.addEventListener('click', () => {
          const currentTheme = document.documentElement.getAttribute('data-coreui-theme') || 'light';
          const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
          document.documentElement.setAttribute('data-coreui-theme', newTheme);
          localStorage.setItem('coreui-theme', newTheme);
        });
      }
    }
  </script>
</body>
</html>